<!DOCTYPE HTML>
<!--
	Hyperspace by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Aiman - Reflow Oven Controller</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
	</head>
	<body class="is-preload">

		<!-- Page Wrapper -->
			<div id="page-wrapper">

        <!-- Header -->
					<header id="header">
						<h1><a href="index.html">Aiman's Portfolio</a></h1>

						<h2>
							<a href="https://www.linkedin.com/in/aimanishmam/" class="icon brands fa-linkedin"><span class="label">LinkedIn</span></a>
							<a href="https://github.com/Aimxni?tab=repositories" class="icon brands fa-github"><span class="label">GitHub</span></a>
						</h2>

					</header>

				<!-- Wrapper -->
					<section id="wrapper">
						<header>
							<div class="inner">
								<h2>Reflow Oven Controller</h2>
								<!--<p><a href="https://github.com/adarshgovi/CPSC538-Project-Submission" class="special">Github Repository</a></p>--!>
							</div>
						</header>

				<!-- Content -->
							<div class="wrapper">
								<div class="inner">

									<h3 class="major">Project Overview</h3>
									<p>
										This project involved designing a microcontroller-based reflow oven controller to automate the PCB soldering process with precise temperature control. A Finite State Machine (FSM) managed heating stages—preheat, soak, reflow, and cooling—based on real-time thermocouple readings. Oven power was modulated via PWM and a solid-state relay, with safety mechanisms to shut off heating if conditions weren’t met.
										To enhance usability, we added a servo motor to open the oven door automatically, a fan for faster cooling, a buzzer to signal state transitions, and a 1-of-4 decoder with LED indicators. Temperature data was logged and visualized through a Python GUI, making the system both user-friendly and reliable for consistent, hands-free soldering.
										I completed this project as part of ELEC 291 at UBC.
									</p>

									<h3 class="major">Basic Functionality</h3>
									<ul>
										<li>Control states at which the temperature and time are required, depending on which soldering state the board is using the Finite State Machine (FSM)</li>
										<li>Adjust the oven power (through oscillation) corresponding to which state the controller is at</li>
										<li>Take the temperatures using a thermocouple wire and verify them through a Python program</li>
										<li>Adjust the parameters controlling threshold temperatures and times for the FSM</li>
										<li>Safety feature to turn the oven off if a certain temperature is not reached within 60 seconds.</li>
										<li>Button to stop the process at any time.</li>
									</ul>

									<h3 class="major">Bonus Features</h3>
									<ul>
										<li>A buzzer that alerts when each state is finished</li>
										<li>An additional PWM signal is emitted by the microcontroller to power a servo motor to open the door of the oven.</li>
										<li>A 1-of-4 decoder to indicate each state of the FSM.</li>
										<li>Cooling fan to accelerate the last state.</li>
										<li> An additional graph of the temperature read by the digital multimeter.</li>
									</ul>

									<p>
										With my implementation, users can call the <code>xTaskCreateEDF</code> function to create tasks with periodic execution. It calculates activation times and absolute deadlines dynamically for each task. Admission control ensures that tasks are only admitted if system utilization allows.
									</p>

									<h3 class="major">SRP Implementation</h3>
									<p>
										The project integrates <strong>Stack Resource Policy (SRP)</strong> mechanisms into FreeRTOS to manage resource access in systems with priority inheritance requirements. This ensures efficient and deterministic resource sharing.
									</p>

									<ul>
										<li><strong>System Ceiling Management:</strong> Tracks active system ceilings to enforce resource access rules.</li>
										<li><strong>SRP Binary Semaphores:</strong> Custom semaphores with SRP properties like priority ceiling and maximum task priority.</li>
										<li><strong>Functions:</strong> 
											<ul>
												<li><code>SRP_GetCurrentCeiling:</code> Retrieves the current system ceiling.</li>
												<li><code>xSRPCreateBinary:</code> Creates semaphores with SRP properties.</li>
												<li><code>xSRPSemaphoreTake:</code> Acquires an SRP semaphore.</li>
												<li><code>xSRPSemaphoreGive:</code> Releases an SRP semaphore.</li>
											</ul>
										</li>
									</ul>

									<p>
										The SRP mechanisms prevent priority inversion by enforcing system ceilings and simplify real-time system design.
									</p>

									<!-- <div class="col" style="text-align: center;">
										<span class="image fit" style="display: inline-block; width: 50%;">
										  <img src="images/EDF_Scheduler/demo_task_output.png" alt="Demo Task Output" style="max-width: 100%; height: auto; margin: 0 auto;" />
										</span>
									</div> -->


									<h3 class="major">Testing the Scheduler and SRP</h3>
									<p>
										The enhancements were validated using demo workloads with the pico connected to various LEDs to visually demonstrate different tasks running. Tests verified the EDF scheduler's task execution order, deadline enforcement, and system utilization. For SRP, tasks were tested for deterministic resource sharing and priority inversion prevention. Initial testing involved simply stepping through the code to ensure correctness. 
									<h3 class="major">Challenges and Lessons Learned</h3>
									<p>
										<strong>Challenges:</strong>
										<ul>
											<li>Integrating EDF with the existing FreeRTOS scheduler required a deep understanding of its architecture.</li>
											<li>Debugging timing issues on the Raspberry Pi Pico due to its limited debugging tools.</li>
											<li>Ensuring resource ceilings were correctly enforced under SRP in all edge cases.</li>
										</ul>
									</p>
									<p>
										<strong>Lessons Learned:</strong>
										<ul>
											<li>Gained proficiency in FreeRTOS internals and task scheduling concepts.</li>
											<li>Developed a systematic approach to debugging real-time systems.</li>
											<li>Improved understanding of real-time scheduling algorithms and resource management protocols.</li>
										</ul>
									</p>

									<h3 class="major">Other Projects</h3>
									<section class="features">
										<article>
											<a href="inverted_pendulum.html" class="image"><img src="images/InvertedPendulum/pendulum_gif.gif" alt="" /></a>
											<h3 class="major">Inverted Pendulum</h3>
											<p>Designed a real-time control system to evaluate the performance of a Byzantine Fault Tolerant key-value store.</p>
											<a href="inverted_pendulum.html" class="special">Learn more</a>
										</article>
										<article>
											<a href="autonomous_rover.html" class="image"><img src="images/autonomous_rover/com_vis_comp.png" alt="" /></a>
											<h3 class="major">2nd Place - Autonomous Driving Competition</h3>
											<p>Trained a rover to drive on a simulated road, detecting license plates and avoiding obstacles.</p>
											<a href="autonomous_rover.html" class="special">Learn more</a>
										</article>
									</section>

								</div>
							</div>

					</section>


		<!-- Footer -->
			<footer id="footer" class="wrapper style1-alt">
				<div class="inner">
					<ul class="menu">
						<li>&copy; Untitled. All rights reserved.</li><li>Design: <a href="http://html5up.net">HTML5 UP</a></li>
					</ul>
				</div>
			</footer>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrollex.min.js"></script>
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

	</body>
</html>

